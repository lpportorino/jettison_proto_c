/* Automatically generated nanopb header */
/* Generated by nanopb-0.4.9 */

#ifndef PB_SER_OPAQUE_SAM_TRACKING_DAY_PB_H_INCLUDED
#define PB_SER_OPAQUE_SAM_TRACKING_DAY_PB_H_INCLUDED
#include <pb.h>
#include "opaque/sam_tracking_common.pb.h"

#if PB_PROTO_HEADER_VERSION != 40
#error Regenerate this file with the current version of nanopb generator.
#endif

/* Struct definitions */
/* SAM visual tracking result for DAY camera channel.
 Injected by bezoar SamTrackerModule into JonGUIState.opaque_payloads at inference rate (~30fps).
 Contains RLE-encoded binary mask within the bounding box for efficient transmission.

 UUID: 019f4a7c-8b2d-7a1e-9c3f-2e8d5f1a4b6e */
typedef struct _ser_SamTrackingDay {
    /* Tracking status for this tick (required, must be valid enum value) */
    ser_SamTrackingStatus status;
    /* Current tracking state machine state */
    ser_SamTrackingState state;
    /* Bounding box in NDC (Normalized Device Coordinates)
 -1.0 (left/top) to 1.0 (right/bottom), center is (0,0) */
    double bbox_x1;
    double bbox_y1;
    double bbox_x2;
    double bbox_y2;
    /* K-Medoids cluster center (centroid) in NDC
 This is the point used to prompt the next iteration */
    double centroid_x;
    double centroid_y;
    /* Tracking confidence 
 Computed as mask_area / bbox_area */
    float confidence;
    /* Decoder IoU prediction */
    float iou;
    /* RLE-encoded binary mask within the bounding box
 Format: ... (little-endian)
 Max 64KB to prevent oversized payloads */
    pb_callback_t mask_rle;
    /* Mask dimensions within the bounding box (pixels)
 Typically 256x256 from the SAM decoder output */
    uint32_t mask_width;
    uint32_t mask_height;
    /* Non-zero pixel count in the mask */
    uint32_t mask_pixels;
    /* Frame metadata for temporal correlation */
    bool has_frame;
    ser_SamTrackingFrameMeta frame;
    /* Kalman filter state for visualization/debugging */
    bool has_kalman;
    ser_SamTrackingKalmanState kalman;
    /* Number of consecutive frames in LOST state
 Used for auto-stop logic (stop after 5 frames in LOST) */
    uint32_t lost_frame_count;
    /* Processing latency (nanoseconds) */
    uint64_t latency_ns;
} ser_SamTrackingDay;


#ifdef __cplusplus
extern "C" {
#endif

/* Initializer values for message structs */
#define ser_SamTrackingDay_init_default          {_ser_SamTrackingStatus_MIN, _ser_SamTrackingState_MIN, 0, 0, 0, 0, 0, 0, 0, 0, {{NULL}, NULL}, 0, 0, 0, false, ser_SamTrackingFrameMeta_init_default, false, ser_SamTrackingKalmanState_init_default, 0, 0}
#define ser_SamTrackingDay_init_zero             {_ser_SamTrackingStatus_MIN, _ser_SamTrackingState_MIN, 0, 0, 0, 0, 0, 0, 0, 0, {{NULL}, NULL}, 0, 0, 0, false, ser_SamTrackingFrameMeta_init_zero, false, ser_SamTrackingKalmanState_init_zero, 0, 0}

/* Field tags (for use in manual encoding/decoding) */
#define ser_SamTrackingDay_status_tag            1
#define ser_SamTrackingDay_state_tag             2
#define ser_SamTrackingDay_bbox_x1_tag           3
#define ser_SamTrackingDay_bbox_y1_tag           4
#define ser_SamTrackingDay_bbox_x2_tag           5
#define ser_SamTrackingDay_bbox_y2_tag           6
#define ser_SamTrackingDay_centroid_x_tag        7
#define ser_SamTrackingDay_centroid_y_tag        8
#define ser_SamTrackingDay_confidence_tag        9
#define ser_SamTrackingDay_iou_tag               10
#define ser_SamTrackingDay_mask_rle_tag          11
#define ser_SamTrackingDay_mask_width_tag        12
#define ser_SamTrackingDay_mask_height_tag       13
#define ser_SamTrackingDay_mask_pixels_tag       14
#define ser_SamTrackingDay_frame_tag             15
#define ser_SamTrackingDay_kalman_tag            16
#define ser_SamTrackingDay_lost_frame_count_tag  17
#define ser_SamTrackingDay_latency_ns_tag        18

/* Struct field encoding specification for nanopb */
#define ser_SamTrackingDay_FIELDLIST(X, a) \
X(a, STATIC,   SINGULAR, UENUM,    status,            1) \
X(a, STATIC,   SINGULAR, UENUM,    state,             2) \
X(a, STATIC,   SINGULAR, DOUBLE,   bbox_x1,           3) \
X(a, STATIC,   SINGULAR, DOUBLE,   bbox_y1,           4) \
X(a, STATIC,   SINGULAR, DOUBLE,   bbox_x2,           5) \
X(a, STATIC,   SINGULAR, DOUBLE,   bbox_y2,           6) \
X(a, STATIC,   SINGULAR, DOUBLE,   centroid_x,        7) \
X(a, STATIC,   SINGULAR, DOUBLE,   centroid_y,        8) \
X(a, STATIC,   SINGULAR, FLOAT,    confidence,        9) \
X(a, STATIC,   SINGULAR, FLOAT,    iou,              10) \
X(a, CALLBACK, SINGULAR, BYTES,    mask_rle,         11) \
X(a, STATIC,   SINGULAR, UINT32,   mask_width,       12) \
X(a, STATIC,   SINGULAR, UINT32,   mask_height,      13) \
X(a, STATIC,   SINGULAR, UINT32,   mask_pixels,      14) \
X(a, STATIC,   OPTIONAL, MESSAGE,  frame,            15) \
X(a, STATIC,   OPTIONAL, MESSAGE,  kalman,           16) \
X(a, STATIC,   SINGULAR, UINT32,   lost_frame_count,  17) \
X(a, STATIC,   SINGULAR, UINT64,   latency_ns,       18)
#define ser_SamTrackingDay_CALLBACK pb_default_field_callback
#define ser_SamTrackingDay_DEFAULT NULL
#define ser_SamTrackingDay_frame_MSGTYPE ser_SamTrackingFrameMeta
#define ser_SamTrackingDay_kalman_MSGTYPE ser_SamTrackingKalmanState

extern const pb_msgdesc_t ser_SamTrackingDay_msg;

/* Defines for backwards compatibility with code written before nanopb-0.4.0 */
#define ser_SamTrackingDay_fields &ser_SamTrackingDay_msg

/* Maximum encoded size of messages (where known) */
/* ser_SamTrackingDay_size depends on runtime parameters */

#ifdef __cplusplus
} /* extern "C" */
#endif

#endif
