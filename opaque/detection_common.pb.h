/* Automatically generated nanopb header */
/* Generated by nanopb-0.4.9 */

#ifndef PB_SER_OPAQUE_DETECTION_COMMON_PB_H_INCLUDED
#define PB_SER_OPAQUE_DETECTION_COMMON_PB_H_INCLUDED
#include <pb.h>

#if PB_PROTO_HEADER_VERSION != 40
#error Regenerate this file with the current version of nanopb generator.
#endif

/* Enum definitions */
/* Inference status codes (detector-agnostic). */
typedef enum _ser_DetectionStatus {
    ser_DetectionStatus_DETECTION_STATUS_UNSPECIFIED = 0,
    ser_DetectionStatus_DETECTION_STATUS_OK = 1, /* Inference succeeded */
    ser_DetectionStatus_DETECTION_STATUS_NOT_READY = 2, /* Engine/IPC not initialized */
    ser_DetectionStatus_DETECTION_STATUS_IPC_TIMEOUT = 3, /* No frame within timeout */
    ser_DetectionStatus_DETECTION_STATUS_INFER_FAILED = 4, /* Inference engine error */
    ser_DetectionStatus_DETECTION_STATUS_ERROR = 5 /* Unclassified error */
} ser_DetectionStatus;

/* Struct definitions */
/* Single object detection result (detector-agnostic).
 Bounding box uses NDC coordinates: -1.0 (left/top) to 1.0 (right/bottom), center is (0,0).
 Consistent with JonGuiDataROI pattern. */
typedef struct _ser_ObjectDetection {
    /* Bounding box in NDC (Normalized Device Coordinates) */
    float x1; /* Left edge */
    float y1; /* Top edge */
    float x2; /* Right edge */
    float y2; /* Bottom edge */
    /* Detection confidence */
    float confidence;
    /* Class ID (0-255, detector-specific meaning) */
    int32_t class_id;
} ser_ObjectDetection;

/* Inference configuration used for this result. */
typedef struct _ser_DetectionConfig {
    /* Confidence threshold used for filtering */
    float confidence_threshold;
    /* NMS IoU threshold used for suppression */
    float nms_iou_threshold;
} ser_DetectionConfig;

/* Frame metadata for temporal correlation. */
typedef struct _ser_DetectionFrameMeta {
    /* Presentation timestamp (nanoseconds, must be non-negative) */
    uint64_t pts_ns;
    /* Capture timestamp (nanoseconds, must be non-negative) */
    uint64_t capture_time_ns;
    /* Frame generation counter (for correlation with CUDA IPC) */
    uint32_t generation;
    /* Source frame dimensions */
    uint32_t width;
    uint32_t height;
} ser_DetectionFrameMeta;


#ifdef __cplusplus
extern "C" {
#endif

/* Helper constants for enums */
#define _ser_DetectionStatus_MIN ser_DetectionStatus_DETECTION_STATUS_UNSPECIFIED
#define _ser_DetectionStatus_MAX ser_DetectionStatus_DETECTION_STATUS_ERROR
#define _ser_DetectionStatus_ARRAYSIZE ((ser_DetectionStatus)(ser_DetectionStatus_DETECTION_STATUS_ERROR+1))





/* Initializer values for message structs */
#define ser_ObjectDetection_init_default         {0, 0, 0, 0, 0, 0}
#define ser_DetectionConfig_init_default         {0, 0}
#define ser_DetectionFrameMeta_init_default      {0, 0, 0, 0, 0}
#define ser_ObjectDetection_init_zero            {0, 0, 0, 0, 0, 0}
#define ser_DetectionConfig_init_zero            {0, 0}
#define ser_DetectionFrameMeta_init_zero         {0, 0, 0, 0, 0}

/* Field tags (for use in manual encoding/decoding) */
#define ser_ObjectDetection_x1_tag               1
#define ser_ObjectDetection_y1_tag               2
#define ser_ObjectDetection_x2_tag               3
#define ser_ObjectDetection_y2_tag               4
#define ser_ObjectDetection_confidence_tag       5
#define ser_ObjectDetection_class_id_tag         6
#define ser_DetectionConfig_confidence_threshold_tag 1
#define ser_DetectionConfig_nms_iou_threshold_tag 2
#define ser_DetectionFrameMeta_pts_ns_tag        1
#define ser_DetectionFrameMeta_capture_time_ns_tag 2
#define ser_DetectionFrameMeta_generation_tag    3
#define ser_DetectionFrameMeta_width_tag         4
#define ser_DetectionFrameMeta_height_tag        5

/* Struct field encoding specification for nanopb */
#define ser_ObjectDetection_FIELDLIST(X, a) \
X(a, STATIC,   SINGULAR, FLOAT,    x1,                1) \
X(a, STATIC,   SINGULAR, FLOAT,    y1,                2) \
X(a, STATIC,   SINGULAR, FLOAT,    x2,                3) \
X(a, STATIC,   SINGULAR, FLOAT,    y2,                4) \
X(a, STATIC,   SINGULAR, FLOAT,    confidence,        5) \
X(a, STATIC,   SINGULAR, INT32,    class_id,          6)
#define ser_ObjectDetection_CALLBACK NULL
#define ser_ObjectDetection_DEFAULT NULL

#define ser_DetectionConfig_FIELDLIST(X, a) \
X(a, STATIC,   SINGULAR, FLOAT,    confidence_threshold,   1) \
X(a, STATIC,   SINGULAR, FLOAT,    nms_iou_threshold,   2)
#define ser_DetectionConfig_CALLBACK NULL
#define ser_DetectionConfig_DEFAULT NULL

#define ser_DetectionFrameMeta_FIELDLIST(X, a) \
X(a, STATIC,   SINGULAR, UINT64,   pts_ns,            1) \
X(a, STATIC,   SINGULAR, UINT64,   capture_time_ns,   2) \
X(a, STATIC,   SINGULAR, UINT32,   generation,        3) \
X(a, STATIC,   SINGULAR, UINT32,   width,             4) \
X(a, STATIC,   SINGULAR, UINT32,   height,            5)
#define ser_DetectionFrameMeta_CALLBACK NULL
#define ser_DetectionFrameMeta_DEFAULT NULL

extern const pb_msgdesc_t ser_ObjectDetection_msg;
extern const pb_msgdesc_t ser_DetectionConfig_msg;
extern const pb_msgdesc_t ser_DetectionFrameMeta_msg;

/* Defines for backwards compatibility with code written before nanopb-0.4.0 */
#define ser_ObjectDetection_fields &ser_ObjectDetection_msg
#define ser_DetectionConfig_fields &ser_DetectionConfig_msg
#define ser_DetectionFrameMeta_fields &ser_DetectionFrameMeta_msg

/* Maximum encoded size of messages (where known) */
#define SER_OPAQUE_DETECTION_COMMON_PB_H_MAX_SIZE ser_DetectionFrameMeta_size
#define ser_DetectionConfig_size                 10
#define ser_DetectionFrameMeta_size              40
#define ser_ObjectDetection_size                 36

#ifdef __cplusplus
} /* extern "C" */
#endif

#endif
